<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bash Grader+</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<div class="text-end p-3">
  <button class="btn btn-secondary" onclick="toggleDarkMode()">🌙 Toggle Dark Mode</button>
</div>

<body class="bg-light">
  <div class="container mt-5">
    <div class="card shadow-lg">
      <div class="card-header bg-primary text-white">
        <h2 class="text-center">🔍 Bash Grader+</h2>
        <p class="text-center mb-0">Auto-grade your C/C++ code with test cases</p>
      </div>
      <div class="card-body">
        <form action="/upload" method="post" enctype="multipart/form-data">
          <div class="mb-3">
            <label for="codefile" class="form-label">Select your code file (.c or .cpp):</label>
            <input type="file" class="form-control" name="codefiles" id="codefiles" required>
          </div>
          <div class="d-grid">
            <button type="submit" class="btn btn-success btn-lg">🚀 Grade My Code</button>
             <a href="/leaderboard" class="btn btn-outline-dark mt-3 animate__animated animate__pulse animate__infinite">🏆 View Leaderboard</a>

           <div id="progress-container" class="mt-3" style="display: none;">
  <div class="progress">
    <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated"
         role="progressbar" style="width: 0%"></div>
  </div>
</div>

          </div>
        </form>
      </div>
    </div>
  </div>

<script>
  const form = document.querySelector("form");
  const progressContainer = document.getElementById("progress-container");
  const progressBar = document.getElementById("progress-bar");

  form.addEventListener("submit", () => {
    progressContainer.style.display = "block";
    let width = 0;
    const interval = setInterval(() => {
      if (width >= 100) {
        clearInterval(interval);
      } else {
        width += 10;
        progressBar.style.width = width + "%";
      }
    }, 200);
  });
</script>
<script>
  function toggleDarkMode() {
    document.body.classList.toggle("bg-dark");
    document.body.classList.toggle("text-white");
    document.querySelectorAll(".card").forEach(card => {
      card.classList.toggle("bg-secondary");
      card.classList.toggle("text-white");
    });
  }
</script>

</body>
</html>
